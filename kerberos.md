# Введение в Kerberos

Аутентификация — это процесс подтверждения личности. Люди могут легко различать друг друга через различные физические характеристики и поведенческие особенности, но для компьютеров этот процесс требует использования формальных методов. В современном мире наиболее распространённым методом аутентификации для компьютеров являются пароли, которые представляют собой "разделённые секреты". Однако такой подход имеет два ключевых недостатка.

## Проблема с человеческим фактором

Людям сложно запоминать сложные и безопасные пароли. Они стремятся использовать упрощённые варианты, такие как простые слова или легко предсказуемые данные (имя, дата рождения и т.п.), что делает их уязвимыми для атак. Более того, с ростом числа сервисов и систем, требующих разные пароли, пользователи либо используют одинаковые пароли, либо снижают их сложность, что значительно увеличивает риск компрометации.

## Техническая проблема

Когда пароль вводится в систему, он должен быть передан по сети для проверки на сервере. В большинстве случаев пароли передаются в открытом виде (без шифрования), что делает их доступными для перехвата в сетях, особенно в многопользовательских или общих сетевых средах. Передача пароля в открытом виде по сути аналогична тому, как если бы пользователь громко объявил свой пароль в комнате, полной людей.

## Решение от Kerberos

Kerberos был разработан для решения этих проблем. Система позволяет пользователю запоминать один пароль, который обеспечивает доступ ко всей сети. Kerberos использует шифрование и механизмы обеспечения целостности сообщений, что защищает данные аутентификации при передаче по сети. Таким образом, Kerberos не только снижает количество паролей, которые пользователь должен помнить, но и предотвращает утечки конфиденциальной информации, решая проблему передачи паролей в незашифрованном виде.

## Заключение

Kerberos становится важной частью общей стратегии сетевой безопасности, обеспечивая надёжную аутентификацию и защиту как для конечных пользователей, так и для администраторов.
# Определение Kerberos

Полное определение того, что предоставляет Kerberos, — это безопасная, единая аутентификация с доверием третьей стороны, основанная на взаимной аутентификации. 

## Безопасность
Kerberos безопасен, поскольку никогда не передаёт пароли по сети в открытом виде. Уникальность Kerberos заключается в его использовании билетов — временных криптографических сообщений, которые подтверждают личность пользователя на определённом сервере без передачи паролей по сети или кэширования паролей на локальном жёстком диске пользователя.

## Единая аутентификация
Единая аутентификация означает, что конечным пользователям нужно войти в систему только один раз для доступа ко всем сетевым ресурсам, которые поддерживают Kerberos. После того как пользователь аутентифицируется в Kerberos в начале своей сессии, его учётные данные автоматически передаются ко всем остальным ресурсам, к которым он обращается в течение дня.

## Доверенная третья сторона
Доверенная третья сторона относится к тому, что Kerberos работает через централизованный сервер аутентификации, которому все системы в сети по умолчанию доверяют. Все запросы на аутентификацию направляются через централизованный сервер Kerberos.

## Взаимная аутентификация
Взаимная аутентификация обеспечивает не только то, что человек за клавиатурой — это именно тот, за кого он себя выдаёт, но и подтверждает, что сервер, с которым он взаимодействует, — это именно тот, за кого он себя выдаёт. Взаимная аутентификация защищает конфиденциальность чувствительной информации, гарантируя, что служба, с которой общается пользователь, является подлинной.

Эти три концепции описывают основы службы сетевой аутентификации Kerberos. В следующей главе мы более подробно рассмотрим эти концепции и связанную с ними терминологию.

# История Kerberos

## Эволюция

Современный протокол Kerberos прошел через несколько значительных изменений с момента своего первоначального создания в рамках проекта Athena. Каждая новая версия приносила улучшения в удобстве использования, расширяемости и безопасности.

### Ранние версии Kerberos (v1, v2, v3)

Первые версии Kerberos (до версии 4) разрабатывались и использовались в MIT исключительно для тестирования. Эти реализации имели серьезные ограничения и служили лишь для исследования новых концепций и выявления практических проблем, возникающих в процессе разработки и тестирования.

### Kerberos 4

Первая версия Kerberos, которая была выпущена за пределы MIT, называется Kerberos 4. Она стала доступна для общественности 24 января 1989 года и была принята несколькими производителями, которые внедрили ее в свои операционные системы. Кроме того, крупные распределенные программные проекты, такие как Andrew File System, переняли идеи Kerberos 4 для своих собственных механизмов аутентификации.

Основы протокола Kerberos 4 были описаны в Техническом плане Athena, а детали протокола были зафиксированы в исходном коде эталонной реализации, опубликованной MIT.

Однако, из-за ограничений на экспорт шифровального программного обеспечения, установленных правительством США, Kerberos 4 не мог быть экспортирован за пределы страны. Поскольку Kerberos 4 использует шифрование DES, организации за пределами США не могли легально скачать это программное обеспечение в его первоначальном виде.

В ответ команда MIT убрала весь код шифрования из Kerberos 4, создав специализированную версию, которая могла быть экспортирована. Эррол Янг из Университета Бонда в Австралии адаптировал эту облегчённую версию Kerberos 4 и добавил свою собственную реализацию DES, получившую название "eBones". Поскольку eBones включал шифровальное программное обеспечение, разработанное вне США, он не подпадал под ограничения на экспорт и мог использоваться легально по всему миру.

На сегодняшний день несколько реализаций Kerberos 4 все еще существуют. Оригинальная реализация от MIT находится в режиме обслуживания и считается "мертвой". Распределение kth-krb, разработанное в Швеции, по-прежнему активно разрабатывается, но для новых установок рекомендуется использовать более современную версию Kerberos 5.

### Kerberos 5

Kerberos 5 был разработан для внедрения новых функций и повышения безопасности, отсутствовавших в версии 4 протокола. Это последняя версия протокола Kerberos, которая задокументирована в RFC 1510.
